CREATE TABLE IF NOT EXISTS "AllignedSequences" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"sequence" TEXT NOT NULL,
	"gene" VARCHAR(255) NOT NULL,
	"species" VARCHAR(255) NOT NULL,
	PRIMARY KEY("id")
);




CREATE TABLE IF NOT EXISTS "Species" (
	"id" INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	"common_name" VARCHAR(255) NOT NULL UNIQUE,
	"scientific_name" VARCHAR(255) NOT NULL UNIQUE,
	PRIMARY KEY("id")
);




CREATE TABLE IF NOT EXISTS "Genes" (
	"id" INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	"name" VARCHAR(255) NOT NULL UNIQUE,
	PRIMARY KEY("id")
);




CREATE TABLE IF NOT EXISTS "RegulatoryElements" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"chromosome" INTEGER NOT NULL,
	"strand" CHAR(1) NOT NULL,
	"geneType" VARCHAR(4) NOT NULL,
	"typeStart" INTEGER NOT NULL CHECK(typeStart >= 0),
	"typeEnd" INTEGER NOT NULL CHECK(typeEnd >= typeStart),
	"regulatorySequence" INTEGER NOT NULL,
	PRIMARY KEY("id")
);




CREATE TABLE IF NOT EXISTS "RegulatorySequences" (
	"id" INTEGER NOT NULL UNIQUE GENERATED BY DEFAULT AS IDENTITY,
	"gene" VARCHAR(255) NOT NULL,
	"species" VARCHAR(255) NOT NULL,
	"start" BIGINT NOT NULL,
	"end" BIGINT NOT NULL,
	PRIMARY KEY("id")
);



ALTER TABLE "AllignedSequences"
ADD FOREIGN KEY("gene") REFERENCES "Genes"("name")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "AllignedSequences"
ADD FOREIGN KEY("species") REFERENCES "Species"("common_name")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "RegulatoryElements"
ADD FOREIGN KEY("regulatorySequence") REFERENCES "RegulatorySequences"("id")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "RegulatorySequences"
ADD FOREIGN KEY("gene") REFERENCES "Genes"("name")
ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE "RegulatorySequences"
ADD FOREIGN KEY("species") REFERENCES "Species"("common_name")
ON UPDATE NO ACTION ON DELETE NO ACTION;